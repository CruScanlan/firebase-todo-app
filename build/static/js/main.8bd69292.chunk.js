(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n.p+"static/media/right-chevron.39d0c3c9.svg"},38:function(e,t,n){e.exports=n.p+"static/media/tick.1ca10308.svg"},39:function(e,t,n){e.exports=n.p+"static/media/ticked.ed9b61fc.svg"},41:function(e,t,n){e.exports=n(83)},62:function(e,t,n){},63:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(23),c=n.n(s),r=n(11),o=n(15),l=n(33),d=(n(50),n(25)),m=n.n(d);m.a.initializeApp({apiKey:"AIzaSyBkSW3Z7mdatqXGW-IkDWiaGtS0QqJuoF4",authDomain:"fir-todo-app-36e55.firebaseapp.com",databaseURL:"https://fir-todo-app-36e55.firebaseio.com",projectId:"fir-todo-app-36e55",storageBucket:"fir-todo-app-36e55.appspot.com",messagingSenderId:"723928349232",appId:"1:723928349232:web:fd7f649c81a2dcd6"});var u=m.a.firestore(),f=m.a,p="lists_has_erroed",h="lists_is_loading",v="lists_fetch_success";function g(e){return{type:h,isLoading:e}}var E="list_items_has_erroed",b="list_items_is_loading",_="list_items_fetch_success";function I(e,t){return{type:b,listId:e,itemsIsLoading:t}}var k="list_items_set_completed",N="list_items_add_success";var y=Object(o.c)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.lists;case _:return e.map(function(e){return e.id!==t.listId?e:Object.assign({},e,{items:t.items})});case E:return e.map(function(e){return e.id!==t.listId?e:Object.assign({},e,{itemsHasErrored:t.itemsHasErrored})});case b:return e.map(function(e){return e.id!==t.listId?e:Object.assign({},e,{itemsIsLoading:t.itemsIsLoading})});case k:return e.map(function(e){return e.id!==t.listId?e:(e.items=e.items.map(function(e){return e.id!==t.itemId?e:Object.assign({},e,{completed:t.completed})}),e)});case N:return e.map(function(e){if(e.id!==t.listId)return e;var n=Object.assign({},e);return n.items.push(t.item),n});default:return e}},listsHasErrored:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.hasErrored;default:return e}},listsIsLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.isLoading;default:return e}}}),O=[l.a],w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,S=Object(o.e)(y,{},w(o.a.apply(void 0,O))),j=(n(62),n(12)),L=n(13);n(63);function C(){return i.a.createElement("nav",{className:"c-navbar"},i.a.createElement(j.b,{className:"c-navbar__logo-container",to:"/"},i.a.createElement("div",{className:"c-navbar__logo"},"Firebase Todo App")))}var T=n(36),A=n(40),x=(n(74),function(e){var t=Object(A.a)({},e),n=e.full,a=e.small,s=e.className;["full","small"].forEach(function(e){return delete t[e]});var c="c-page-boundary";return n&&(c+=" is-full"),a&&(c+=" is-small"),s&&(c+=" ".concat(s)),i.a.createElement("div",Object.assign({},t,{className:c}),e.children)}),H=(n(75),function(e){var t,n,a=e.title,s=e.style,c=e.className,r=e.children,o=e.background,l="c-page ".concat(c||"");return a&&a.length||"home-page"===s||console.exception("This page (".concat(s||c,") does not have a title!")),t=i.a.createElement("title",null,a),o&&(n=i.a.createElement("div",{className:"c-page__background",style:{background:o}}),l+=" has-background"),i.a.createElement("div",{className:l},i.a.createElement(T.Helmet,null,t),n,r)}),P=n(16),W=n(17),D=n(19),R=n(18),F=n(20);n(76);function U(){return i.a.createElement("div",{className:"o-loader"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null))}var B=n(37),J=n.n(B),M=(n(77),function(e){function t(e){return Object(P.a)(this,t),Object(D.a)(this,Object(R.a)(t).call(this,e))}return Object(F.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){this.props.listsFetch()}},{key:"getRenderedLists",value:function(){return this.props.listsIsLoading?i.a.createElement("div",{className:"c-listsSection__loaderContainer"},i.a.createElement(U,null)):this.props.listsHasErrored?i.a.createElement("div",null,"Error Loading Lists"):this.props.lists.map(function(e){return i.a.createElement(j.b,{className:"c-listsSection__listItem",key:e.id,to:{pathname:"/list/".concat(e.id),state:{listName:e.name,listId:e.id}}},i.a.createElement("div",{className:"c-listsSection__listItem-name"},e.name),i.a.createElement("img",{className:"c-listsSection__listItem-chevron",src:J.a}))})}},{key:"render",value:function(){return i.a.createElement("section",{className:"c-listsSection"},i.a.createElement("div",{className:"c-listsSection__list"},i.a.createElement("div",{className:"c-listsSection__list-titleContainer"},i.a.createElement("h2",null,"Lists")),i.a.createElement("div",{className:"c-listsSection__list-container"},this.getRenderedLists())))}}]),t}(i.a.Component)),X=Object(r.b)(function(e){return{lists:e.lists,listsIsLoading:e.listsIsLoading,listsHasErrored:e.listsHasErrored}},{listsFetch:function(){return function(e){e(g(!0)),u.collection("lists").get().then(function(t){var n=[];t.forEach(function(e){n.push({id:e.id,items:[],itemsHasErrored:!1,itemsIsLoading:!1,name:e.data().name})}),e(g(!1)),e(function(e){return{type:v,lists:e}}(n))}).catch(function(t){console.error(t),e({type:p,hasErrored:!0})})}}})(M),q=(n(78),function(e){return i.a.createElement(H,{style:"listsPage",className:"p-listsPage",title:"Lists",background:"linear-gradient(40deg,#45cafc,#303f9f)"},i.a.createElement("div",{className:"p-listsPage__inner"},i.a.createElement(x,null,i.a.createElement(X,null))))}),z=n(14),G=(n(79),function(e){function t(e){var n;return Object(P.a)(this,t),(n=Object(D.a)(this,Object(R.a)(t).call(this,e))).state={name:""},n.handleNameChange=n.handleNameChange.bind(Object(z.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(z.a)(n)),n}return Object(F.a)(t,e),Object(W.a)(t,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),""!==this.state.name&&(this.props.listItemsAdd(this.props.listId,this.state.name),this.setState({name:""}))}},{key:"render",value:function(){return i.a.createElement("section",{className:"c-addItemSection"},i.a.createElement("div",{className:"c-addItemSection__text"},i.a.createElement("h4",null,"Add Item")),i.a.createElement("form",{className:"c-addItemSection__form"},i.a.createElement("input",{className:"c-addItemSection__form-text",type:"text",name:"name",value:this.state.name,onChange:this.handleNameChange}),i.a.createElement("button",{className:"c-addItemSection__form-submit",onClick:this.handleSubmit},"Add")))}}]),t}(i.a.Component)),K=Object(r.b)(null,{listItemsAdd:function(e,t){return function(n){u.collection("lists").doc(e).collection("items").add({name:t,created:f.firestore.Timestamp.now(),completed:!1}).then(function(a){n(function(e,t){return{type:N,listId:e,item:t}}(e,{id:a.id,name:t,completed:!1}))})}}})(G),Q=n(38),V=n.n(Q),Z=n(39),$=n.n(Z),Y=(n(80),function(e){function t(e){var n;return Object(P.a)(this,t),(n=Object(D.a)(this,Object(R.a)(t).call(this,e))).handleTickEvent=n.handleTickEvent.bind(Object(z.a)(n)),n}return Object(F.a)(t,e),Object(W.a)(t,[{key:"getList",value:function(){var e=this;if(this.props.lists&&0!==this.props.lists.length)return this.props.lists.find(function(t){return t.id===e.props.listId})}},{key:"componentDidMount",value:function(){this.props.listItemsFetch(this.props.listId)}},{key:"handleTickEvent",value:function(e){this.props.listItemsSetCompleted(this.props.listId,e.id,!e.completed)}},{key:"renderListItems",value:function(e){var t=this;return e.itemsIsLoading?i.a.createElement("div",{className:"c-listItemsSection__loaderContainer"},i.a.createElement(U,null)):e.itemsHasErrored?i.a.createElement("div",null,"Error loading items"):e.items.map(function(e){return i.a.createElement("div",{className:"c-listItemsSection__item",key:e.id},i.a.createElement("h5",null,e.name),t.renderTick(e))})}},{key:"renderTick",value:function(e){var t=this;return i.a.createElement("img",{className:"c-listItemsSection__item-tick",src:e.completed?$.a:V.a,onClick:function(){return t.handleTickEvent(e)}})}},{key:"render",value:function(){return i.a.createElement("section",{className:"c-listItemsSection"},this.renderListItems(this.getList()))}}]),t}(i.a.Component)),ee=Object(r.b)(function(e){return{lists:e.lists}},{listItemsFetch:function(e){return function(t){t(I(e,!0)),u.collection("lists").doc(e).collection("items").get().then(function(n){var a=[];n.forEach(function(e){a.push({id:e.id,completed:e.data().completed,name:e.data().name,created:e.data().created})}),t(I(e,!1)),t(function(e,t){return{type:_,listId:e,items:t}}(e,a))}).catch(function(n){console.error(n),t(function(e,t){return{type:E,listId:e,itemsHasErrored:t}}(e,!0))})}},listItemsSetCompleted:function(e,t,n){return u.collection("lists").doc(e).collection("items").doc(t).update({completed:n}),{type:k,listId:e,itemId:t,completed:n}}})(Y),te=(n(81),Object(L.e)(function(e){return e.location.state?i.a.createElement(H,{style:"listPage",className:"p-listPage",title:"".concat(e.location.state.listName," | List"),background:"linear-gradient(40deg,#45cafc,#303f9f)"},i.a.createElement("div",{className:"p-listPage__inner"},i.a.createElement(x,null,i.a.createElement("div",{className:"p-listPage__title"},i.a.createElement("h2",null,e.location.state.listName)),i.a.createElement(K,{listId:e.match.params.listId}),i.a.createElement(ee,{listId:e.match.params.listId})))):i.a.createElement(L.a,{to:"/"})}));n(82);var ne=function(){return i.a.createElement(j.a,null,i.a.createElement("div",{className:"c-app"},i.a.createElement("header",null,i.a.createElement(C,null)),i.a.createElement("main",null,i.a.createElement(L.b,{path:"/list/:listId",component:te}),i.a.createElement(L.b,{exact:!0,path:"/",component:q})),i.a.createElement("footer",null)))},ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(i.a.createElement(r.a,{store:S},i.a.createElement(ne,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ae?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ie(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ie(t,e)})}}()}},[[41,1,2]]]);
//# sourceMappingURL=main.8bd69292.chunk.js.map